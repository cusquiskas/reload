var flota = {
    "flota": [

        {
            "nombreavion": "Boeing 787 Dreamliner",
            "texto": "El Boeing 787 Dreamliner es un avión bimotor de tamaño medio y fuselaje ancho, de doble pasillo, con capacidad para transportar entre 217 y 323 pasajeros, según su tipo (8, 9 o 10) y configuración. Alcanza una velocidad de 957 kilómetros por hora y utiliza motores General Electric o Rolls Royce.<br>El 787 Dreamliner cuenta también con un amplio y selecto equipamiento de entretenimiento a bordo, entre cuyas opciones se encuentra la posibilidad de disfrutar de servicio WiFi durante el vuelo. De esta manera, los 296 pasajeros (22 en clase business), podrán disfrutar una cómoda experiencia a bordo.",
            "imagen": "res/img/marcas/787-dreamliner.png",
            "botonDetalle": "spanBoeing787",
            "datatarget": "Boeing787",
            "longitud": "Longitud : 57 m",
            "envergadura": "Envergadura : 60 m",
            "alcance": "Alcance : 14.700 km",
            "capacidad": "Capacidad : 274 (turista) +22 (busines)",
            "wifi": "Wi-fi: Internet en todo el avión",
            "titulodeta": "Detalles sobre la flota de 787 Dreamliner:",
            "aviones": [
                {

                    "modelo": "B787",
                    "matricula": "EC MIG",
                    "MSN": "36412",
                    "fabricacion": "marzo-16",
                    "motor": "TRENT 1000",
                    "entrega": "14/03/2016",
                    "devolucion": "14/03/2028",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MIH",
                    "MSN": "36413",
                    "fabricacion": "junio-16",
                    "motor": "TRENT 1000",
                    "entrega": "16/06/2016",
                    "devolucion": "16/06/2028",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MLT",
                    "MSN": "36414",
                    "fabricacion": "octubre-16",
                    "motor": "TRENT 1000",
                    "entrega": "20/10/2016",
                    "devolucion": "20/10/2028",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MMX",
                    "MSN": "36415",
                    "fabricacion": "diciembre-16",
                    "motor": "TRENT 1000",
                    "entrega": "13/12/2016",
                    "devolucion": "13/12/2028",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MMY",
                    "MSN": "36416",
                    "fabricacion": "diciembre-16",
                    "motor": "TRENT 1000",
                    "entrega": "19/12/2016",
                    "devolucion": "19/12/2028",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MNS",
                    "MSN": "36417",
                    "fabricacion": "febrero-17",
                    "motor": "TRENT 1000",
                    "entrega": "27/02/2017",
                    "devolucion": "26/02/2029",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MOM",
                    "MSN": "36419",
                    "fabricacion": "mayo-17",
                    "motor": "TRENT 1000",
                    "entrega": "03/05/2017",
                    "devolucion": "03/05/2029",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },
                {
                    "modelo": "B787",
                    "matricula": "EC MPE",
                    "MSN": "36419",
                    "fabricacion": "junio-17",
                    "motor": "TRENT 1000",
                    "entrega": "19/06/2017",
                    "devolucion": "19/06/2029",
                    "pesoMax": "227.930",
                    "asientos": "22/274"


                },

                {
                    "modelo": "B789",
                    "matricula": "EC MSZ",
                    "MSN": "62171",
                    "fabricacion": "marzo-18",
                    "motor": "TRENT 1000",
                    "entrega": "20/03/2018",
                    "devolucion": "19/03/2030",
                    "pesoMax": "247.207",
                    "asientos": "30/303"


                },
                {
                    "modelo": "B789",
                    "matricula": "EC MTI",
                    "MSN": "62169",
                    "fabricacion": "febrero-18",
                    "motor": "TRENT 1000",
                    "entrega": "15/02/2018",
                    "devolucion": "14/02/2030",
                    "pesoMax": "247.207",
                    "asientos": "30/303"


                },
                {
                    "modelo": "B789",
                    "matricula": "EC NBM",
                    "MSN": "65246",
                    "fabricacion": "mayo-19",
                    "motor": "TRENT 1000",
                    "entrega": "01/05/2019",
                    "devolucion": "01/05/2031",
                    "pesoMax": "254.014",
                    "asientos": "30/303"


                },
                {
                    "modelo": "",
                    "matricula": "",
                    "MSN": "65247",
                    "fabricacion": "mayo-19",
                    "motor": "TRENT 1000",
                    "entrega": "mayo-19",
                    "devolucion": "",
                    "pesoMax": "",
                    "asientos": ""


                },
                {
                    "modelo": "",
                    "matricula": "",
                    "MSN": "65248",
                    "fabricacion": "septiembre-19",
                    "motor": "TRENT 1000",
                    "entrega": "septiembre-19",
                    "devolucion": "",
                    "pesoMax": "",
                    "asientos": ""


                },
                {
                    "modelo": "",
                    "matricula": "",
                    "MSN": "65249",
                    "fabricacion": "octubre-19",
                    "motor": "TRENT 1000",
                    "entrega": "octubre-19",
                    "devolucion": "",
                    "pesoMax": "",
                    "asientos": ""


                },
                {
                    "modelo": "",
                    "matricula": "",
                    "MSN": "TBC",
                    "fabricacion": "diciembre-19",
                    "motor": "TRENT 1000",
                    "entrega": "diciembre-19",
                    "devolucion": "",
                    "pesoMax": "",
                    "asientos": ""


                }

            ]

        },
        {
            "nombreavion": "Airbus 330",
            "texto": "El Airbus 330 con el que Air Europa cubre muchos de nuestros vuelos transoceánicos. Cuenta con una cómoda clase business y con un amplio y selecto equipamiento de entretenimiento a bordo, entre cuyas opciones se encuentra la posibilidad de disfrutar de servicio WiFi durante el vuelo.<br>El Airbus A330 tiene dos ejes y cuatro ruedas en cada tren de aterrizaje, delatando así que se trata de un avión muy grande. No dispone de ventanas de emergencia sobre las alas sino de cuatro puertas de emergencia a cada lado repartidas en todo su fuselaje. Dispone de seis ventanas en la cabina de los pilotos y unos winglets en las puntas de las alas gruesos e inclinados que permiten distinguirlo fácilmente.",
            "imagen": "res/img/marcas/airbus-330.png",
            "botonDetalle": "spanAirbus330",
            "datatarget": "Airbus330",
            "longitud": "Longitud : 58.8 m",
            "envergadura": "Envergadura : 60.3 m",
            "alcance": "Alcance : 12.500 km",
            "capacidad": "Capacidad : 275 (turista) +24 (busines)",
            "wifi": "Wi-fi: Internet en todo el avión",
            "titulodeta": "Detalles sobre la flota de Airbus 330:",
            "aviones": [
                {
                    "modelo": "A332",
                    "matricula": "EC JPF",
                    "MSN": "733",
                    "fabricacion": "marzo-06",
                    "motor": "TCF6-80E1A4/B",
                    "entrega": "31/03/2006",
                    "devolucion": "01/03/2020",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC JQG",
                    "MSN": "745",
                    "fabricacion": "abril-06",
                    "motor": "CF6-80E1A4/B",
                    "entrega": "24/04/2006",
                    "devolucion": "22/11/2019",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC JQQ",
                    "MSN": "749",
                    "fabricacion": "mayo-06",
                    "motor": "CF6-80E1A4/B",
                    "entrega": "18/05/2006",
                    "devolucion": "17/10/2019",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC JZL",
                    "MSN": "814",
                    "fabricacion": "febrero-07",
                    "motor": "CF6-80E1A4/B",
                    "entrega": "22/02/2007",
                    "devolucion": "15/06/2020",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC KOM",
                    "MSN": "931",
                    "fabricacion": "junio-08",
                    "motor": "CF6-80E1A4/B",
                    "entrega": "17/06/2008",
                    "devolucion": "17/11/2022",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC KTG",
                    "MSN": "950",
                    "fabricacion": "septiembre-08",
                    "motor": "CF6-80E1A4/B",
                    "entrega": "04/09/2008",
                    "devolucion": "02/04/2022",
                    "pesoMax": "233.000",
                    "asientos": "24/275"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC LQP",
                    "MSN": "526",
                    "fabricacion": "abril-03",
                    "motor": "TRENT 772B-60",
                    "entrega": "11/04/2012",
                    "devolucion": "02/03/2021",
                    "pesoMax": "233.000",
                    "asientos": "18/273"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC LQO",
                    "MSN": "505",
                    "fabricacion": "diciembre-02",
                    "motor": "TRENT 772B-60",
                    "entrega": "24/04/2012",
                    "devolucion": "02/11/2020",
                    "pesoMax": "233.000",
                    "asientos": "18/273"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC LVL",
                    "MSN": "461",
                    "fabricacion": "abril-02",
                    "motor": "TRENT 772B-60",
                    "entrega": "30/04/2013",
                    "devolucion": "22/02/2022",
                    "pesoMax": "233.000",
                    "asientos": "18/287"


                },
                {
                    "modelo": "A332",
                    "matricula": "EC MAJ",
                    "MSN": "992",
                    "fabricacion": "junio-09",
                    "motor": "TRENT 772B-60",
                    "entrega": "20/03/2014",
                    "devolucion": "20/03/2020",
                    "pesoMax": "233.000",
                    "asientos": "18/273"


                },
                {
                    "modelo": "A333",
                    "matricula": "EC LXR",
                    "MSN": "1097",
                    "fabricacion": "marzo-10",
                    "motor": "TRENT 772B-60",
                    "entrega": "07/06/2013",
                    "devolucion": "07/06/2020",
                    "pesoMax": "233.000",
                    "asientos": "388"


                },
                {
                    "modelo": "A333",
                    "matricula": "EC MHL",
                    "MSN": "1574",
                    "fabricacion": "noviembre-14",
                    "motor": "TRENT 772B-60",
                    "entrega": "30/07/2015",
                    "devolucion": "15/10/2020",
                    "pesoMax": "233.000",
                    "asientos": "34/265"


                }
            ]
        },
        {
            "nombreavion": "Boeing 737-800",
            "texto": "Es uno de los últimos modelos de la gama ‘737’ y ofrece la máxima fiabilidad. Sus reactores han sido los más demandados en toda la historia del sector de la aviación. Tiene una autonomía de casi 5.000 kilómetros y cuenta con 180 plazas, 12 de ellas en business.",
            "imagen": "res/img/marcas/boeing-737.png",
            "botonDetalle": "spanBoeing737",
            "datatarget": "Boeing737",
            "longitud": "Longitud : 39.5 m",
            "envergadura": "Envergadura : 34.3 m",
            "alcance": "Alcance : 4.630 km",
            "capacidad": "Capacidad : 168 (turista) +12 (busines)",
            "wifi": "",
            "titulodeta": "Detalles sobre la flota de Boeing 737-800:",
            "aviones": [
                {
                    "modelo": "B738",
                    "matricula": "EC IDA",
                    "MSN": "32773",
                    "fabricacion": "febrero-02",
                    "motor": "CFM56-7B",
                    "entrega": "25/02/2002",
                    "devolucion": "27/02/2020",
                    "pesoMax": "79.000",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC IDT",
                    "MSN": "30281",
                    "fabricacion": "marzo-02",
                    "motor": "CFM56-7B",
                    "entrega": "13/03/2002",
                    "devolucion": "30/11/2019",
                    "pesoMax": "79.000",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC III",
                    "MSN": "30284",
                    "fabricacion": "octubre-02",
                    "motor": "CFM56-7B",
                    "entrega": "29/10/2002",
                    "devolucion": "29/10/2020",
                    "pesoMax": "79.000",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC ISN",
                    "MSN": "30291",
                    "fabricacion": "enero-04",
                    "motor": "CFM56-7B",
                    "entrega": "26/01/2004",
                    "devolucion": "15/02/2021",
                    "pesoMax": "71.442",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC KCG",
                    "MSN": "33981",
                    "fabricacion": "mayo-07",
                    "motor": "CFM56-7B",
                    "entrega": "22/05/2007",
                    "devolucion": "27/06/2019",
                    "pesoMax": "71.442",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LPQ",
                    "MSN": "35496",
                    "fabricacion": "abril-12",
                    "motor": "CFM56-7B",
                    "entrega": "30/04/2012",
                    "devolucion": "31/03/2024",
                    "pesoMax": "72.000",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LPR",
                    "MSN": "36588",
                    "fabricacion": "abril-12",
                    "motor": "CFM56-7B",
                    "entrega": "10/04/2012",
                    "devolucion": "31/03/2024",
                    "pesoMax": "72.000",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LQX",
                    "MSN": "36589",
                    "fabricacion": "julio-12",
                    "motor": "CFM56-7B",
                    "entrega": "23/07/2012",
                    "devolucion": "30/04/2024",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LTM",
                    "MSN": "36591",
                    "fabricacion": "enero-13",
                    "motor": "CFM56-7B",
                    "entrega": "23/01/2013",
                    "devolucion": "23/01/2025",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LUT",
                    "MSN": "36592",
                    "fabricacion": "abril-13",
                    "motor": "CFM56-7B",
                    "entrega": "26/04/2013",
                    "devolucion": "25/04/2025",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LVR",
                    "MSN": "36593",
                    "fabricacion": "julio-13",
                    "motor": "CFM56-7B",
                    "entrega": "22/07/2013",
                    "devolucion": "22/07/2025",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LXV",
                    "MSN": "36594",
                    "fabricacion": "octubre-13",
                    "motor": "CFM56-7B",
                    "entrega": "29/10/2013",
                    "devolucion": "28/10/2025",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC LYR",
                    "MSN": "36595",
                    "fabricacion": "enero-14",
                    "motor": "CFM56-7B",
                    "entrega": "13/01/2014",
                    "devolucion": "12/01/2026",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MJU",
                    "MSN": "60584",
                    "fabricacion": "junio-16",
                    "motor": "CFM56-7B",
                    "entrega": "29/06/2016",
                    "devolucion": "29/06/2028",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MKL",
                    "MSN": "60585",
                    "fabricacion": "julio-16",
                    "motor": "CFM56-7B",
                    "entrega": "02/07/2016",
                    "devolucion": "02/07/2028",
                    "pesoMax": "78.999",
                    "asientos": "186"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MPG",
                    "MSN": "60586",
                    "fabricacion": "junio-17",
                    "motor": "CFM56-7B",
                    "entrega": "15/06/2017",
                    "devolucion": "15/06/2029",
                    "pesoMax": "79.015",
                    "asientos": "189"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MPS",
                    "MSN": "60587",
                    "fabricacion": "julio-17",
                    "motor": "CFM56-7B",
                    "entrega": "28/07/2017",
                    "devolucion": "28/07/2029",
                    "pesoMax": "79.015",
                    "asientos": "189"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MUZ",
                    "MSN": "60589",
                    "fabricacion": "mayo-18",
                    "motor": "CFM56-7B",
                    "entrega": "04/05/2018",
                    "devolucion": "04/05/2030",
                    "pesoMax": "79.015",
                    "asientos": "189"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MVY",
                    "MSN": "60590",
                    "fabricacion": "junio-18",
                    "motor": "CFM56-7B",
                    "entrega": "30/06/2018",
                    "devolucion": "30/06/2030",
                    "pesoMax": "79.015",
                    "asientos": "189"


                },
                {
                    "modelo": "B738",
                    "matricula": "EC MXM",
                    "MSN": "60591",
                    "fabricacion": "julio-18",
                    "motor": "CFM56-7B",
                    "entrega": "30/07/2018",
                    "devolucion": "30/07/2030",
                    "pesoMax": "79.015",
                    "asientos": "189"


                }


            ]
        }
    ]
};
var numeroaviones;
var flotaAEA = class {
    constructor(modul) {

        numeroaviones = 0;
        for (let i = 0; i < flota.flota.length; i++) {

            calcularaviones(flota.flota[i]);
            let iddivtabla = flota.flota[i].datatarget;
            let idimagen = flota.flota[i].botonDetalle;
            let HTMLICON = '<span  style="float : left;margin-right:0px;" class="sidebar-navigation-icon "><img src="res/img/marcas/icono-avion.png"   alt=""> </span>';


            let HTML = ' <div class="row {{datatarget}}"><div class="col-12 col-sm-5"> <h2>{{nombreavion}}</h2> <article> <p> {{texto}}</p> </article> </div> <div class="col-12 col-sm-7"> <div class=" col-md-12"> <img  src="{{imagen}}" alt="" /> <div class="row"> <div class="col-md-6"> <div class=" row col-md-12 marcasaling" id="{{botonDetalle}}">\n' +
                '    </div> <div class=" row col-12 marcasaling"> <button style="\n' +
                '    margin-top: 2rem;\n' +
                '" class="panel-trigger btn btn-info col-12" data-target="{{datatarget}}"> <span ">Más</span> <span class=" dn">Ocultar</span> detalles » </button></div></div> <div class="col-md-6" style="float : right; font-size: small;"><b> <div class="textoaviones-{{datatarget}}  bordeInferior"> </div><div class="bordeInferior ">{{longitud}}</div><div class="bordeInferior">{{envergadura}}</div><div class="bordeInferior">{{alcance}}</div><div class="bordeInferior">{{capacidad}}</div><div class="bordeInferior">{{wifi}}</div>  </b><div class="textopedidos-{{datatarget}} bordeInferior"><b> \n' +
                '        </b></div><b> </b></div></div> </div> </div> </div> <hr>';


            let HTMLPROCE = $.parseHTML(HTML.reemplazaMostachos(flota.flota[i]));
            let htrmltabla = '<div class=" flot-panel {{datatarget}}"> <h4>{{titulodeta}}</h4> <table id="tabla-flotas-{{datatarget}}" class="table-fleet-details"> <thead> <tr> <th>Módelo</th> <th>Matricula</th> <th>MSN</th> <th>Fabricación</th> <th>Motor</th> <th>Entrega</th> <th>Devolución</th> <th>Peso max. despegue</th> <th>Asientos</th> </tr> </thead> <tbody id={{datatarget}}>  </tbody></table> </div>';
            $('#div-flota').append(HTMLPROCE);

            for (let j = 0; j < numeroaviones; j++) {
                $('#' + idimagen).append($.parseHTML(HTMLICON));

            }
            if(numeroaviones>1){
            $('.textoaviones-' + iddivtabla).append(numeroaviones + " Aviones");
            }else{
                $('.textoaviones-' + iddivtabla).append(numeroaviones + " Avión");
            }
            if (flota.flota[i].aviones.length != numeroaviones) {
                let iconono = '<span class="sidebar-navigation-icon " style="float : left;margin-right:0px;" ><img  src="res/img/marcas/icono-avion.png"    height="20%"> </span>';
                $('.textopedidos-' + iddivtabla).append(iconono + "<b>Tenemos encargados un total de " + flota.flota[i].aviones.length + " unidades </b>");
            }
            $('.' + iddivtabla).append(htrmltabla.reemplazaMostachos(flota.flota[i]));
            for (let k = 0; k < flota.flota[i].aviones.length; k++) {
                let htrmldatos = '  <tr> <td> {{modelo}} </td> <td> {{matricula}} </td> <td> {{MSN}} </td> <td> {{fabricacion}} </td> <td> {{motor}} </td> <td> {{entrega}} </td> <td> {{devolucion}} </td> <td> {{pesoMax}} </td> <td> {{asientos}} </td> </tr>';
                $('#' + iddivtabla).append(htrmldatos.reemplazaMostachos(flota.flota[i].aviones[k]))
            }

        }


        $('.panel-trigger').click(function () {
            $('.' + this.getAttribute('data-target')).toggleClass('active');
            $('.span' + this.getAttribute('data-target')).toggleClass('dn');
        });
    }


}

function calcularaviones(flotas) {

    numeroaviones = 0;
    for (let i = 0; i < flotas.aviones.length; i++) {


        if (flotas.aviones[i].matricula != "") {
            numeroaviones = numeroaviones + 1
        }


    }


}



